<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Booking</title>
	<script src="https://kit.fontawesome.com/9dbb72da13.js" crossorigin="anonymous"></script>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Roboto:wght@400;500;700&display=swap"
        rel="stylesheet">
    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!--Header and Menu Section-->
    <header class="container">
        <nav>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">About Us</a></li>
                <li><a href="#">Contact</a></li>
                <li><a class="active" href="#">Sign Up</a></li>
            </ul>
        </nav>
    </header>

    <!--Booking Section-->
    <main class="main-content container">
        <div class="booking-form">
            <h3>Booking Flights</h3>
            <div class="input-group">
                <label for="">Flying From</label>
                <input class="inp-style" type="text" name="" placeholder="Dhake, Bangladesh">
            </div>
            <div class="input-group">
                <label for="">Flying To</label>
                <input class="inp-style" type="text" name="" placeholder="New York, United States">
            </div>
            <div class="inputs">
                <div class="input-group">
                    <label" for="">Departure</label>
                    <input class="inp-style" type="date" name="">
                </div>
                <div class="input-group">
                    <label for="">Return</label>
                    <input class="inp-style" type="date" name="">
                </div>
            </div>
            <div class="input-group f-class">
                <div class="plus-minus">
					<button onclick="ticketChange('first',true);" id="first-class-increase" class="plus-minus-btn"><i class="fas fa-plus"></i></button>
                </div>
                <div>
                    <label for="">First Class ($<span id="first-class-price">150</span>)</label>
                    <input id="first-class-input" class="inp-style inp-width" type="number" name="" value="1">
                </div>
                <div class="plus-minus">
					<button onclick="ticketChange('first', false);" id="first-class-decrease" class="plus-minus-btn"><i class="fas fa-minus"></i></button>
                </div>
            </div>
            
            <div class="input-group f-class">
				<div class="plus-minus">
					<button onclick="ticketChange('economy', true);" id="economy-class-increase" class="plus-minus-btn"><i class="fas fa-plus"></i></button>
                </div>
                <div>
                    <label for="">Economy ($<span id="economy-class-price">100</span>)</label>
                    <input id="economy-class-input" class="inp-style inp-width" type="number" name="" value="1">
                </div>
                <div class="plus-minus">
					<button onclick="ticketChange('economy', false);" id="economy-class-decrease" class="plus-minus-btn"><i class="fas fa-minus"></i></button>
                </div>
            </div>
            <div class="calculations">
                <div class="amount">
                    <div class="left">
                        <p>Subtotal</p>
                    </div>
                    <div class="right">
                        <p>$<span id="sub-total">250</span></p>
                    </div>
                </div>

                <div class="amount">
                    <div class="left">
                        <p>Charge 10% VAT</p>
                    </div>
                    <div class="right">
                        <p>$<span id="vat-amount">25</span></p>
                    </div>
                </div>
                <hr>
                <div class="amount">
                    <div class="left">
                        <h4>Total</h4>
                    </div>
                    <div class="right">
                        <p>$<span id="grand-total">275</span></p>
                    </div>
                </div>
            </div>
            <button id="booking-btn" class="btn-style">Book Now</button>
        </div>

        <div id="message-area" class="booking-content">
            <h1>welcome to <br>blissfull indulgence</h1>
            <p>Lorem ipsum dolor sit amet consectetur adipisicingelit. Provident voluptatibus quam fuga laborumalias veniam libero autem quasi maxime ullam vero nama imi dolor, architecto ab facilis eaque deserunt nobise voluptatibus quam Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eum, nesciunt. Lorem ipsum dolor sit amet consectetur adipisicing elit. Nesciunt perferendis quibusdam doloribus quidem officia vero. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quaerat, deleniti.
            </p>
            <a href="#" class="learn">Learn More</a>
        </div>

        <div id="success-area" class="booking-content">
            <h1>Successfully Booked!</h1>
            <div class="invoice-card">
                <div class="invoice-title">
                  <div id="main-title">
                    <h4>Order No.</h4>
                    <span>#48272</span>
                  </div>
                  
                  <span id="date">Date: 16/02/2019</span>
                </div>
                
                <div class="invoice-details">
                  <table class="invoice-table">
                    <thead>
                      <tr class="table-title">
                        <td>Ticket</td>
                        <td>PRICE</td>
                      </tr>
                    </thead>
                    
                    <tbody>
                      
                      <tr>
                        <td>Total</td>
                        <td>$<span id="booked-total">275</span></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                
                <div class="invoice-footer">
                  <a class="learn" class="btn btn-primary">PAY NOW</a>
                </div>
              </div>
        </div>
    </main>

    <script>
        function ticketChange(idName, isIncrease){
            const classInput = document.getElementById(idName + "-class-input");
            const classIntValue = parseInt(classInput.value);
            
            let classNewCount = classInput;
            if(isIncrease == true){
                classNewCount = classIntValue + 1;
            }else if(isIncrease == false && classIntValue>0){
                classNewCount = classIntValue - 1;
            }else{
                classNewCount = classIntValue;
            }
            classInput.value = classNewCount;

            let classPrice = 0;
            if(idName == "first"){
                classPrice = classNewCount * 150;
            }else{
                classPrice = classNewCount * 100;
            }
           
            document.getElementById(idName + "-class-price").innerText = classPrice;

            calculateSubTotal();
        }

        function calculateSubTotal(){
            const classCount = getInputValue("first");
            const economyCount = getInputValue("economy");

            const subTotal = classCount * 150 + economyCount * 100;
            document.getElementById("sub-total").innerText = subTotal;

            const vat = Math.round(subTotal * 0.1);
            document.getElementById("vat-amount").innerText = vat;

            const grandTotal = subTotal - vat;
            document.getElementById("grand-total").innerText = grandTotal;
            document.getElementById("booked-total").innerText = grandTotal;
        }

        function getInputValue(ticket){
         const ticketInput = document.getElementById(ticket + "-class-input");
         const ticketCount = parseInt(ticketInput.value);
         return ticketCount;
        }

         //booking button event handler
        const booking_button = document.getElementById('booking-btn');
        booking_button.addEventListener("click", function(){
            const booking_area = document.getElementById('message-area');
            booking_area.style.display = "none";
            const success_area = document.getElementById("success-area");
            success_area.style.display = "block";
        })
    </script>
</body>

</html>